:root{
  --bg:#F5F6F8;
  --card:#FFFFFF;
  --text:#0F172A;
  --muted:#64748B;
  --border:rgba(15,23,42,0.10);
  --shadow:0 10px 30px rgba(15,23,42,0.06);
  --shadow2:0 6px 18px rgba(15,23,42,0.08);
  --accent:#0F172A;
  --danger:#B91C1C;
  --good:#16A34A;
}

*{box-sizing:border-box;}
html,body{padding:0;margin:0;height:100%; background:var(--bg); color:var(--text); font-family: ui-sans-serif, system-ui, -apple-system, "Apple SD Gothic Neo", "Segoe UI", "Pretendard", sans-serif;}
a{color:inherit; text-decoration:none;}
button{font-family:inherit;}

.container{
  max-width: 460px;
  margin: 0 auto;
  padding: 18px 14px 28px;
}

.card{
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 18px;
  box-shadow: var(--shadow);
}

.headerRow{
  display:flex; align-items:center; justify-content:space-between;
  padding: 14px 14px 10px;
}

.brand{
  font-size: 14px;
  color: var(--muted);
  letter-spacing: 0.2px;
}

.iconBtn{
  width: 40px; height: 40px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.9);
  box-shadow: 0 1px 0 rgba(15,23,42,0.03);
  cursor:pointer;
}
.iconBtn:active{transform: translateY(1px);}

.topInfo{
  padding: 0 14px 12px;
  display:flex;
  flex-direction:column;
  gap: 8px;
}

.infoGrid{
  display:grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 8px;
}

.infoItem{
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 9px 10px;
  background: rgba(245,246,248,0.55);
}

.label{
  font-size: 11px;
  color: var(--muted);
  margin-bottom: 4px;
}

.value{
  font-size: 13px;
  font-weight: 650;
  letter-spacing: 0.2px;
}

.valueSmall{
  font-size: 12px;
  font-weight: 650;
}

.row2{
  display:flex; gap:10px;
}

.pillBtn{
  flex:1;
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 9px 10px;
  background: rgba(255,255,255,0.75);
  cursor:pointer;
  display:flex; align-items:center; justify-content:space-between;
}
.pillBtn:active{transform: translateY(1px);}
.pillLeft{display:flex; flex-direction:column; align-items:flex-start;}
.pillTitle{font-size: 11px; color: var(--muted); margin-bottom: 4px;}
.pillValue{font-size: 13px; font-weight: 650;}

.boardWrap{padding: 0 14px 12px;}
.board{
  width: 100%;
  aspect-ratio: 1 / 1;
  display:grid;
  grid-template-columns: repeat(9, 1fr);
  border-radius: 18px;
  overflow:hidden;
  border: 1px solid rgba(15,23,42,0.18);
  box-shadow: var(--shadow2);
  background:white;
}

.cell{
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  user-select:none;
  cursor:pointer;
  background:white;
  border-right: 1px solid rgba(15,23,42,0.08);
  border-bottom: 1px solid rgba(15,23,42,0.08);
}
.cell:nth-child(9n){border-right:none;}
.cell:nth-child(n+73){border-bottom:none;}

.cell.thickR{border-right: 2px solid rgba(15,23,42,0.20);}
.cell.thickB{border-bottom: 2px solid rgba(15,23,42,0.20);}

.cell.selected{
  background: rgba(15,23,42,0.06);
}
.cell.same{
  background: rgba(15,23,42,0.085);
}
.cell.conflict{
  background: rgba(185,28,28,0.10);
}

.given{
  font-weight: 700;
  font-size: 20px;
}
.entered{font-weight: 700;color: rgba(15,23,42,0.60);}
.memos{
  position:absolute;
  inset: 6px;
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: repeat(3, 1fr);
  gap: 2px;
  color: rgba(15,23,42,0.55);
  font-size: 10px;
  font-weight: 650;
}
.memoDot{display:flex; align-items:center; justify-content:center;}

.padWrap{padding: 0 14px 12px;}
.numPad{
  display:grid;
  grid-template-columns: repeat(9, 1fr);
  gap: 8px;
}
.numBtn{
  height: 44px;
  border-radius: 16px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.85);
  cursor:pointer;
  font-weight: 750;
  font-size: 14px;
  box-shadow: 0 1px 0 rgba(15,23,42,0.03);
}
.numBtn:active{transform: translateY(1px);}
.numBtn.disabled{
  opacity: 0.35;
}
.numBtn.done{
  background: rgba(22,163,74,0.10);
  border-color: rgba(22,163,74,0.30);
}

.ctrlWrap{padding: 0 14px 12px;}
.ctrlRow{
  display:grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 8px;
}
.ctrlBtn{ background: transparent; border:0; box-shadow:none; color: var(--muted); font-weight:500; }
.ctrlBtn.primary{
  background: rgba(15,23,42,0.92);
  color:white;
  border-color: rgba(15,23,42,0.92);
}
.ctrlBtn.toggleOn{
  background: rgba(15,23,42,0.10);
  border-color: rgba(15,23,42,0.25);
  font-weight: 750;
}
.ctrlBtn.danger{
  color: var(--danger);
}

.submitWrap{padding: 0 14px 12px;}
.submitBtn{
  width: 100%;
  height: 52px;
  border-radius: 18px;
  border: 1px solid rgba(15,23,42,0.10);
  background: rgba(15,23,42,0.92);
  color:white;
  font-weight: 700;
  letter-spacing: 0.2px;
  cursor:pointer;
  box-shadow: var(--shadow2);
}
.submitBtn:disabled{
  opacity: 0.45;
  cursor:not-allowed;
}

.bottomBar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 0 14px 16px;
  gap: 8px;
}
.segment{
  display:flex;
  background: rgba(255,255,255,0.70);
  border: 1px solid var(--border);
  border-radius: 16px;
  overflow:hidden;
}
.segBtn{
  padding: 10px 12px;
  font-size: 12px;
  cursor:pointer;
  border:none;
  background: transparent;
  color: var(--muted);
  min-width: 70px;
}
.segBtn.active{
  background: rgba(15,23,42,0.92);
  color:white;
}

.linkBtn{
  padding: 10px 12px;
  border-radius: 16px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.70);
  cursor:pointer;
  font-size: 12px;
}

.toast{
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: 18px;
  max-width: 460px;
  width: calc(100% - 28px);
  background: rgba(15,23,42,0.92);
  color:white;
  padding: 12px 14px;
  border-radius: 16px;
  box-shadow: var(--shadow2);
  font-size: 13px;
}

 .modalOverlay{
  padding: 14px 12px;

  position: fixed;
  inset: 0;
  background: rgba(15,23,42,0.52);
  display:flex;
  align-items:flex-end;
  justify-content:center;
  padding: 16px;
  overflow:auto;
  -webkit-overflow-scrolling: touch;
  padding-bottom: calc(16px + env(safe-area-inset-bottom));
}
 .modal{
  width: 100%;
  max-width: 460px;
  background: white;
  border-radius: 22px;
  border: 1px solid var(--border);
  box-shadow: var(--shadow2);
  overflow:hidden;
  max-height: calc(100vh - 32px);
  display:flex;
  flex-direction:column;
}
.modalHeader{
  padding: 14px 14px 10px;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.modalTitle{
  font-weight: 850;
  letter-spacing: 0.2px;
}
 .modalBody{
  padding: 10px 14px 14px;
  display:flex;
  flex-direction:column;
  gap: 12px;
  overflow:auto;
  -webkit-overflow-scrolling: touch;
}
.field{
  border: 1px solid var(--border);
  background: rgba(245,246,248,0.55);
  border-radius: 18px;
  padding: 12px;
}
.fieldTop{font-size: 12px; color: var(--muted); margin-bottom: 8px;}
.fieldRow{display:flex; gap: 8px; flex-wrap:wrap;}
.chip{
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.75);
  border-radius: 999px;
  padding: 10px 12px;
  font-size: 12px;
  cursor:pointer;
}
.chip.active{
  background: rgba(15,23,42,0.92);
  color:white;
  border-color: rgba(15,23,42,0.92);
}
.input{
  width: 100%;
  height: 44px;
  border-radius: 16px;
  border: 1px solid var(--border);
  padding: 0 12px;
  background: rgba(255,255,255,0.85);
  outline:none;
  font-size: 14px;
}
.modalFooter{padding: 0 14px 12px; display:flex; gap: 8px;}
.footerBtn{
  flex:1;
  height: 48px;
  border-radius: 18px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.75);
  cursor:pointer;
  font-weight: 750;
}
.footerBtn.primary{
  background: rgba(15,23,42,0.92);
  color:white;
  border-color: rgba(15,23,42,0.92);
}

@keyframes blinkPulse{0%{opacity:1;}50%{opacity:0.35;}100%{opacity:1;}}

.blink{animation: blinkPulse 1.0s infinite;}

.input::placeholder{color: rgba(100,116,139,0.55);}

/* Compact top info blocks (아이디/점수/랭킹) */
.compactTop{display:grid;gap:8px;}
.compactTop .infoGrid{gap:8px;}
.compactTop .infoItem{padding:8px 10px;}
.compactTop .label{margin-bottom:4px;}
.compactTop .value{line-height:1.05;}


@media (max-width: 420px) {
  .modalSheet {
    width: calc(100vw - 24px);
    max-width: 360px;
    padding: 14px;
  }
  .container {
    max-width: 460px;
    padding: 12px 10px 22px;
  }
}


.optRow{display:flex; gap:10px; margin-top:10px;}
/* 로비 옵션 카드: '눌러서 설정 가능한 요소'처럼 보이도록 */
.optRow .infoItem{
  flex:1;
  padding:10px 10px !important;
  background:#fff;
  box-shadow: 0 1px 2px rgba(15,23,42,0.06);
  transition: box-shadow 160ms ease, transform 160ms ease, background 160ms ease;
}
@media (hover:hover){
  .optRow .infoItem:hover{
    box-shadow: 0 10px 24px rgba(15,23,42,0.10);
    transform: translateY(-1px);
  }
}
@media (max-width:420px){.optRow{gap:8px;} .optRow .infoItem{padding:9px 9px !important;}}

@keyframes blinkSoft {
  0%, 60% { opacity: 1; }
  61%, 100% { opacity: 0.35; }
}
.blinkSoft { animation: blinkSoft 1.2s infinite; }
.lobbyList { max-height: 46vh; overflow: auto; margin-top: 12px; padding: 8px 10px; border: 1px solid var(--line); border-radius: 16px; background: rgba(255,255,255,0.6); }
.lobbyRow { display:flex; justify-content: space-between; align-items:center; padding: 10px 6px; border-bottom: 1px solid rgba(15,23,42,0.06); }
.lobbyRow:last-child{ border-bottom:none; }
.lobbyName{ font-size: 14px; }
.lobbyMeta{ font-size: 12px; color: var(--muted); }

.modalCard{
  width: 100%;
  max-width: 420px;
  background: rgba(255,255,255,0.92);
  border: 1px solid rgba(15,23,42,0.10);
  border-radius: 24px;
  box-shadow: 0 22px 60px rgba(0,0,0,0.16);
  padding: 18px;
  max-height: calc(100vh - 32px);
  overflow: auto;
  -webkit-overflow-scrolling: touch;
}
@media (max-width: 420px){
  .modalCard{ padding: 14px; max-height: calc(100vh - 24px); }
}

/* Text-only action buttons (under keypad) */
.textAction{
  background: transparent;
  border: 0;
  padding: 8px 6px;
  border-radius: 10px;
  color: var(--muted);
  font-size: 13px;
  font-weight: 500;
  outline: none;
  box-shadow: none;
}
.textAction:active{ transform: translateY(0.5px); }
.textAction[disabled]{ opacity: 0.45; }
/* memo blink - apply to label only */
.blinkText{ display: inline-block; animation: blinkSoft 1.2s infinite; }
/* Slightly lighter typography in settings */
.pillLabel, .label, .fieldTop { font-weight: 600; }

/* Group QR pin row layout */
.pinRow{ display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap; }
.pinValue{ font-size: 20px; font-weight: 800; letter-spacing: 1px; line-height: 1.1; word-break: break-word; }
@media (max-width: 420px){
  .pinValue{ font-size: 18px; }
}
/* Footer buttons wrap on small screens */
.footerRow{ display:flex; gap:10px; align-items:center; justify-content:space-between; flex-wrap:wrap; }
